{"componentChunkName":"component---src-templates-post-template-js","path":"/posts/gatsby-blog/","result":{"data":{"markdownRemark":{"html":"<p>2020년 새해 목표 중 하나는 블로그를 새로 만드는 것이었습니다. <del>(또 다른 목표는 매달 블로그 글 하나씩 쓰기였는데..)</del> 지난 블로그도 Gatsby를 사용해서 만들었는데, 다른 개발자분이 만들어두신 스타터에 댓글을 추가하고 스타일만 수정해서 사용했습니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 700px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/617db351984dd9710998b838a6e24b5f/89587/prev-blog.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 72%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABYlAAAWJQFJUiTwAAACJElEQVQ4y41TyW4aQRCdI+BIiUBsInaWK2fnbkwkK/kLxBIsYYmecLEyH+EcOFgCwQ+wCV9yzTfYySGR2GIcdokZ1qYrVeOBTOzYoqU3r6u7+s2rnhrp5TOb5/Xe0+Tuiz3ZYbczh8PBnC4Xe+7xMK/bzey45vP52JOdHebzepnT6WQet4u92d9nfr+f2Ww2ZrFYZKvVmkT2SW8PA4eRcAgSicQGsVgMPiCikQiEQrh3cgLx42M9DofDEI1G4aMsQzKZ3MTxeByCweA7qVQuH6xWKw4Ay4fw49vl8uf3q4f2F8RCCF6tVo+kUqkUWC5pHQAXBT1oSsAX6fz1y4UO89oawshfLBZQqVSOpGKxGKBgLbjWxIM6U7Y2mYCqTSgBxH3cFzQ7vN03DXUC8+kUpojZbPaP2KaqxwSJNU2D/mAA2ngMM1WDOQrNDJjHVg6JByhWq9Wg1WrBr+traDab0Gg09FhVVR3z+Xx7h+RkjO6meHdU6oSA83XJdL+ErQVvHdbh980NdDodHaPRCDjnQAeJHy3Z/JWJ0IlAhwLvUmB5OqNTfZ0Y88Xfb3hHEPvwAAPyz3GPrPLhcMjr9Trvdjq82+3ydrvN+/0+7/V6HAU5/QjUyJRrNDcnDV2wUCgE4T+D3iiwNGH046Yv77aVaZTL5feSLMu72Wz2NJPJKIhPOFfS6bTy+exMyZ+fK/lcTsnl80reQI5ihJGvnzH4NJVKvfoDdBWfMZXGlAAAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n        <source\n          srcset=\"/static/617db351984dd9710998b838a6e24b5f/c54d4/prev-blog.webp 175w,\n/static/617db351984dd9710998b838a6e24b5f/a3432/prev-blog.webp 350w,\n/static/617db351984dd9710998b838a6e24b5f/426ac/prev-blog.webp 700w,\n/static/617db351984dd9710998b838a6e24b5f/c139f/prev-blog.webp 1050w,\n/static/617db351984dd9710998b838a6e24b5f/7f403/prev-blog.webp 1400w,\n/static/617db351984dd9710998b838a6e24b5f/33c6a/prev-blog.webp 2624w\"\n          sizes=\"(max-width: 700px) 100vw, 700px\"\n          type=\"image/webp\"\n        />\n        <source\n          srcset=\"/static/617db351984dd9710998b838a6e24b5f/4edbd/prev-blog.png 175w,\n/static/617db351984dd9710998b838a6e24b5f/13ae7/prev-blog.png 350w,\n/static/617db351984dd9710998b838a6e24b5f/8c557/prev-blog.png 700w,\n/static/617db351984dd9710998b838a6e24b5f/e996b/prev-blog.png 1050w,\n/static/617db351984dd9710998b838a6e24b5f/2cefc/prev-blog.png 1400w,\n/static/617db351984dd9710998b838a6e24b5f/89587/prev-blog.png 2624w\"\n          sizes=\"(max-width: 700px) 100vw, 700px\"\n          type=\"image/png\"\n        />\n        <img\n          class=\"gatsby-resp-image-image\"\n          src=\"/static/617db351984dd9710998b838a6e24b5f/8c557/prev-blog.png\"\n          alt=\"지난 블로그\"\n          title=\"지난 블로그\"\n          loading=\"lazy\"\n          style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        />\n      </picture>\n  </a>\n    </span></p>\n<p>한 번쯤은 직접 만들어 보고싶어서 새해 목표로 정했는데, 연초에는 인턴을 하느라 시간이 나지 않아 미루다 드디어 만들었습니다. 유용한 플러그인도 많고, 공식 문서에 설명도 잘 되어있어서 생각보다 금방 만들었습니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 700px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/16498b01ea08db756f938c4426a616d7/89587/new-blog.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 72%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABYlAAAWJQFJUiTwAAACnUlEQVQ4y5WSWU8TURTH5xNoEFkiwQ2fVIKGByFGbDssDQpWMSBQX6AUUQE7A0FZBAMu34AXlgcEI0JLcYHAVwECtTsQSFiazkzP8dw7UNli4kl+Oecu55//uTPCtbSE1KzrKY7c29mymJ8n5eRmSzezrkqXM9KljCvnpQsXz0kpqWekpOTTOkl6Ppv0d52ckiATjsTEU2nCjcxbYoFowfKyGnxSbkdL6VO0lFRjUUEZFohlKBotaMgrRcOdEp6Nd3VEwwMsFB9hvukh3X2MxeYKzMrMKRbuF7YZX9R81RprJ9SXNeNqY+03VW5wqq/skxypwcWRn7tUxzOn2lw3qTbZJlRHPd0hmmyTSnOdk/rGtdKi12ahyCCbbFUjaLd+QXv1GDBsVaNgq/wM9dYx6Gr5Dt1tP+FTzxy0O9xgp726asZoHN5TOYJmY4tZsJZ3m969+YF9nbPY2/EL+jpm8GP3PDGHH97O0d4Msr33nXruPQbrmQWmYa3oMQsul8sUjSoIgASAoqj42+NHvy+Iq6urqCgKsohpMYzF4ARi1IXANNxut1mYmpoyqaqKewFMYHFxEZeWljhMNBKJ4D8CGExjenpad7jvgh+QQ583gH5/AHd2dphr5kI/ZFaOA/tG4oIHHbJ6eXkFFxYWcG1tDaPRKG5vb8dH/29BduD1+rnY+vo6BgIB3NjYQL3vhHlPEjw4MtWwsrIMoVAIwuEwzyQMu7u7QG/JIcdAzwH7cUiQPoqRFuyRNILMaprPG9Q2Nzc1atKoWdva2joEaWh793kPy0yDCzqdzvyjY4RCYSLEx/V4PPQEXgwGg3zN8oGJDgX9NvcEWZbTh4aG2gcHB7uITpaHh4dZ3UX7vD5Kf38/Z2BgIN5DtLe2tl76A9cMR48pF8BvAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n        <source\n          srcset=\"/static/16498b01ea08db756f938c4426a616d7/c54d4/new-blog.webp 175w,\n/static/16498b01ea08db756f938c4426a616d7/a3432/new-blog.webp 350w,\n/static/16498b01ea08db756f938c4426a616d7/426ac/new-blog.webp 700w,\n/static/16498b01ea08db756f938c4426a616d7/c139f/new-blog.webp 1050w,\n/static/16498b01ea08db756f938c4426a616d7/7f403/new-blog.webp 1400w,\n/static/16498b01ea08db756f938c4426a616d7/33c6a/new-blog.webp 2624w\"\n          sizes=\"(max-width: 700px) 100vw, 700px\"\n          type=\"image/webp\"\n        />\n        <source\n          srcset=\"/static/16498b01ea08db756f938c4426a616d7/4edbd/new-blog.png 175w,\n/static/16498b01ea08db756f938c4426a616d7/13ae7/new-blog.png 350w,\n/static/16498b01ea08db756f938c4426a616d7/8c557/new-blog.png 700w,\n/static/16498b01ea08db756f938c4426a616d7/e996b/new-blog.png 1050w,\n/static/16498b01ea08db756f938c4426a616d7/2cefc/new-blog.png 1400w,\n/static/16498b01ea08db756f938c4426a616d7/89587/new-blog.png 2624w\"\n          sizes=\"(max-width: 700px) 100vw, 700px\"\n          type=\"image/png\"\n        />\n        <img\n          class=\"gatsby-resp-image-image\"\n          src=\"/static/16498b01ea08db756f938c4426a616d7/8c557/new-blog.png\"\n          alt=\"새 블로그\"\n          title=\"새 블로그\"\n          loading=\"lazy\"\n          style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        />\n      </picture>\n  </a>\n    </span></p>\n<h2>설치 및 시작하기</h2>\n<p>먼저 gatsby를 설치한 후, 새 프로젝트를 생성합니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">npm</span> <span class=\"token function\">install</span> -g gatsby-cli\n$ gatsby new gatsby-site</code></pre></div>\n<p><code class=\"language-text\">gatsby-site</code> 디렉토리 안에 프로젝트가 생성됩니다.<br>\n<code class=\"language-text\">gatsby develop</code> 커맨드를 실행하면 <code class=\"language-text\">localhost:8000</code>에서 페이지를 확인할 수 있습니다.</p>\n<blockquote>\n<p>gatsby-cli를 설치하고 싶지 않다면 <code class=\"language-text\">npx gatsby new gatsby-site</code> 명령어를 실행하면 됩니다.</p>\n</blockquote>\n<h2>마크다운 파일로 블로그 만들기</h2>\n<p><code class=\"language-text\">gatsby-transformer-remark</code> <a href=\"https://www.gatsbyjs.org/docs/adding-markdown-pages/#transform-markdown-to-html-and-frontmatter-to-data-using-gatsby-transformer-remark\">플러그인</a>을 사용하면 마크다운 파일을 HTML로 변환할 수 있습니다. Gatsby는 공식문서가 진짜 잘 정리되어 있어서 필요한 플러그인을 검색하면 설치부터 적용까지 정리된 문서를 볼 수 있습니다.</p>\n<h3>📍 플러그인 설치</h3>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ npm install --save gatsby-source-filesystem gatsby-transformer-remark</code></pre></div>\n<p><code class=\"language-text\">gatsby-source-filesystem</code> 플러그인은 파일을 읽어옵니다. 플러그인을 사용하기 위해서는 <code class=\"language-text\">gatsby-config.js</code> 파일에 사용할 플러그인을 등록해야 합니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// gatsby-config.js</span>\nplugins<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">{</span>\n        resolve<span class=\"token operator\">:</span> <span class=\"token string\">\"gatsby-source-filesystem\"</span><span class=\"token punctuation\">,</span>\n        options<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n            name<span class=\"token operator\">:</span> <span class=\"token string\">\"markdown-pages\"</span><span class=\"token punctuation\">,</span>\n            path<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>__dirname<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">/src/markdown-pages</span><span class=\"token template-punctuation string\">`</span></span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"gatsby-transformer-remark\"</span>\n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><code class=\"language-text\">plugins</code> 배열에 사용할 플러그인의 이름과 설정을 추가합니다. 다른 옵션이 필요없다면 플러그인 이름만 문자열로 넣어도 등록할 수 있습니다. <code class=\"language-text\">options</code>의 <code class=\"language-text\">path</code>에는 파일이 들어있는 디렉토리를 지정합니다.</p>\n<h3>📍 마크다운 파일 만들기</h3>\n<p>마크다운 파일에는 <code class=\"language-text\">---</code>로 둘러싸인 블록 안에 정보를 추가할 수 있습니다. 이 정보는 <code class=\"language-text\">gatsby-markdown-remark</code>가 <code class=\"language-text\">frontmatter</code>로 파싱합니다. graphql 쿼리로 이 데이터를 컴포넌트에서 쉽게 가져다 쓸 수 있습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"md\"><pre class=\"language-md\"><code class=\"language-md\"><span class=\"token hr punctuation\">---</span>\n<span class=\"token list punctuation\">-</span> date: \"2019-10-20\"\n<span class=\"token list punctuation\">-</span> title: \"테스트용 게시글입니다.\"\n<span class=\"token list punctuation\">-</span> description: \"게시글에 대한 설명입니다.\"\n<span class=\"token list punctuation\">-</span> template: \"post\"\n<span class=\"token list punctuation\">-</span> path: \"/posts/test-post\"\n<span class=\"token title important\">- draft: false\n<span class=\"token punctuation\">---</span></span>\n\n<span class=\"token title important\"><span class=\"token punctuation\">##</span> 게시글</span>\n\n게시글 내용은 여기에 작성합니다.</code></pre></div>\n<p>블록 안의 데이터 key는 원하는대로 지정할 수 있습니다. 저는 date, title, description, template, path, draft를 사용했습니다. 이 값을 이용해서 데이터를 필터링해 가져오거나 정렬할 수 있습니다.</p>\n<h3>📍 템플릿 만들기</h3>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> graphql <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"gatsby\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">function</span> <span class=\"token function\">Template</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> data <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> frontmatter<span class=\"token punctuation\">,</span> html <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> data<span class=\"token punctuation\">.</span>markdownRemark<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n        <span class=\"token operator\">&lt;</span>div className<span class=\"token operator\">=</span><span class=\"token string\">\"blog-post-container\"</span><span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>div className<span class=\"token operator\">=</span><span class=\"token string\">\"blog-post\"</span><span class=\"token operator\">></span>\n                <span class=\"token operator\">&lt;</span>h1<span class=\"token operator\">></span><span class=\"token punctuation\">{</span>frontmatter<span class=\"token punctuation\">.</span>title<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>h1<span class=\"token operator\">></span>\n                <span class=\"token operator\">&lt;</span>h2<span class=\"token operator\">></span><span class=\"token punctuation\">{</span>frontmatter<span class=\"token punctuation\">.</span>date<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>h2<span class=\"token operator\">></span>\n                <span class=\"token operator\">&lt;</span>div\n                    className<span class=\"token operator\">=</span><span class=\"token string\">\"blog-post-content\"</span>\n                    dangerouslySetInnerHTML<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> __html<span class=\"token operator\">:</span> html <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n                <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> pageQuery <span class=\"token operator\">=</span> graphql<span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n    query($path: String!) {\n        markdownRemark(frontmatter: { path: { eq: $path } }) {\n            html\n            frontmatter {\n                date(formatString: \"YYYY-MM-DD\")\n                path\n                title\n            }\n        }\n    }\n</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><code class=\"language-text\">pageQuery</code>에서 정의한 graphql query 결과는 <code class=\"language-text\">Template</code> 컴포넌트에 <code class=\"language-text\">data</code>라는 이름의 <code class=\"language-text\">props</code>로 전달됩니다. 위 템플릿 예제는 공식 사이트 예제를 그대로 가져온 것인데, 블록 안의 데이터를 가져오고 싶다면 <code class=\"language-text\">pageQuery</code>의 <code class=\"language-text\">frontmatter</code>에 template, description 등의 필드를 추가하면 됩니다.</p>\n<p>마크다운 파일의 내용은 html에 저장되고, <code class=\"language-text\">dangerouslySetInnerHTML</code>로 화면에 표시할 수 있습니다.</p>\n<h2>소스코드 하이라이팅</h2>\n<p>github는 아래와 같이 소스코드 블록 시작 기호 뒤에 언어를 표시하면 해당 언어의 문법에 맞게 예약어 등을 하이라이팅 해줍니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">```js</code></pre></div>\n<p><code class=\"language-text\">gatsby-remark-prismjs</code> <a href=\"https://www.gatsbyjs.org/packages/gatsby-remark-prismjs/\">플러그인</a>을 사용하면 HTML로 변환할 때, 소스코드를 예쁘게 만들어줍니다.</p>\n<h3>📍 플러그인 설치</h3>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ npm install --save gatsby-remark-prismjs prismjs</code></pre></div>\n<p>플러그인과 <code class=\"language-text\">prismjs</code>를 설치한 후, <code class=\"language-text\">gatsby-config.js</code>에 설정을 추가해줍니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// gatsby-config.js</span>\nplugins<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n  <span class=\"token operator\">...</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span>\n    resolve<span class=\"token operator\">:</span> <span class=\"token string\">\"gatsby-transformer-remark\"</span><span class=\"token punctuation\">,</span>\n    options<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n     plugins<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n       <span class=\"token string\">\"gatsby-remark-prismjs\"</span>\n     <span class=\"token punctuation\">]</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">]</span></code></pre></div>\n<p><code class=\"language-text\">gatsby-transformer-remark</code> 플러그인의 <code class=\"language-text\">options</code>안에 <code class=\"language-text\">gatsby-remark-prismjs</code>를 추가해줍니다. 플러그인의 플러그인..</p>\n<h3>📍 스타일 활성화</h3>\n<p>테마를 로드하기 위해서 <code class=\"language-text\">gatsby-browser.js</code>에 CSS 파일을 추가해줍니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// gatsby-browser.js</span>\n<span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"prismjs/themes/prism-solarizedlight.css\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><code class=\"language-text\">themes</code> 뒤에 css 파일은 있는 테마 중에서 원하는 걸 사용하면 됩니다. 다 바꿔봤는데 저게 제일 예뻤어요.</p>\n<blockquote>\n<p>라인 숫자, 언어 확장 등의 설정은 <a href=\"https://www.gatsbyjs.org/packages/gatsby-remark-prismjs/\">도큐먼트</a>를 참고해주세요 :)</p>\n</blockquote>\n<h2>마크다운 인라인 이미지</h2>\n<p>이미지 파일을 읽어와서 표시하는 기능은 <code class=\"language-text\">gatsby-remark-images</code><a href=\"https://www.gatsbyjs.org/packages/gatsby-remark-images\">(공식문서)</a>를 사용했습니다.</p>\n<h3>📍 플러그인 설치</h3>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ npm install --save gatsby-remark-images</code></pre></div>\n<blockquote>\n<p><code class=\"language-text\">gatsby-remark-images</code>를 사용하려면 <code class=\"language-text\">gatsby-plugin-sharp</code>도 필요한데, 이건 스타터에 포함되어 있어서 따로 설치하지 않았습니다.</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// gatsby-config.js</span>\nmodule<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    plugins<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n        <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">gatsby-plugin-sharp</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">{</span>\n            resolve<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">gatsby-transformer-remark</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n            options<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n                plugins<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n                    <span class=\"token punctuation\">{</span>\n                        resolve<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">gatsby-remark-images</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n                        options<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n                            maxWidth<span class=\"token operator\">:</span> <span class=\"token number\">800</span>\n                        <span class=\"token punctuation\">}</span>\n                    <span class=\"token punctuation\">}</span>\n                <span class=\"token punctuation\">]</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">{</span>\n            resolve<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">gatsby-source-filesystem</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n            options<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n                path<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>__dirname<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">/src/posts</span><span class=\"token template-punctuation string\">`</span></span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><code class=\"language-text\">gatsby-transformer-remark</code> 안의 플러그인에 추가해줍니다. 썸네일을 알아서 만들어주고 Lazy Loading 까지 구현되어 있어서 플러그인만 설치하면 구현할 게 없었다는 사실..</p>\n<h2>sitemap.xml 만들기</h2>\n<p>구글 검색결과에 노출되기 위해서 <code class=\"language-text\">sitemap.xml</code>을 만들어야하는데, 이것도 플러그인이 있어서 설정만 해주면 빌드할 때 깔끔하게 만들어줍니다.</p>\n<h3>📍 플러그인 설치</h3>\n<p><code class=\"language-text\">gatsby-plugin-sitemap</code> <a href=\"https://www.gatsbyjs.org/packages/gatsby-plugin-sitemap/\">플러그인</a>을 설치합니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ npm install --save gatsby-plugin-sitemap</code></pre></div>\n<p><code class=\"language-text\">gatsby-config.js</code>의 <code class=\"language-text\">siteMetadata</code>에 <code class=\"language-text\">siteUrl</code> 필드를 추가하고, 사이트 주소를 넣어줍니다. 그리고 plugin에 추가합니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// gatsby-config.js</span>\n<span class=\"token punctuation\">{</span>\n  siteMetadata<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    siteUrl<span class=\"token operator\">:</span> <span class=\"token string\">\"https://www.example.com\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  plugins<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"gatsby-plugin-sitemap\"</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<hr>\n<p>페이지마다 Title 설정하는 것도 <code class=\"language-text\">SEO</code> 컴포넌트가 이미 만들어져 있어서 전달하는 값만 변경하면 되었습니다. 스타터가 잘 만들어져있어서, 필요한 플러그인만 슥슥 갖다붙이면 되는 엄청난 편리함을 느꼈습니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 700px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/3240b310bb0d5dfc241e4145b05070f0/89587/graphqi.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 72%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABYlAAAWJQFJUiTwAAACLklEQVQ4y62TTW8SQRiA9woU44VEND1Um8a0B+NP6KIJ0Z8A5aOF3jiw9NR07xy4AKnFA9zUbPcj+IdMTCxaCQvd792ZndeZBaGilzZO8mTed2fmyTtvZrmnD+OPtjYf1Pdevmjs7e4Kz7a3hec7O8LjdFpIU1KplJBMJoV4PL4kxogt4lhMSCQSjY2NRJ3GT7jXmUymenwEwskJNBoNqNVqcFytQqFYhFKpBMViAfL5PORyuSUHB3koFApQLpejPUeHh1CpVIDn+Tecpqn7vmlj33ERDjECADSZTND16Dua6TNkGGaEaVrIMk2kT6fIoLNp0XxOYNk2+jmeYEm6zHKXksR/+TYG3fSoCwjD9z2i6yaZ6g4JAkIwInTM11zXI84arucTw7RAUbUsJzHh1QTGNy7gMIxOuq4LCGMImeUWYRiC7TgU9zaR9MYwQVbULCcrEj++moLvRwUQdsj3fRZCVPJCFsV0zYkkHjjuSsgqZEKFCT8PNX50PQXPoxWFmGBamed5K8ldhaoi819/6OChcHGeRBXeW/jh46dIaHno/wgVWeZH4xkYdiRZ9vD+V1ZV3rYtCKiEylgPCe0h+ddg60ywzh/C4XC4HwQBayBmj5rNNMeL/C/oE1kHUSGmwlBRqVDTtFdwh8FuT2BFOO8GBAiDLCtvOfr/bg4Gg9N+vy9Sztjc7XbFZrMptlotsdPpiO12e8n5+Tux13svXvR6vzm7oDn9dlqv17d+Af5UmaDkvZgkAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n        <source\n          srcset=\"/static/3240b310bb0d5dfc241e4145b05070f0/c54d4/graphqi.webp 175w,\n/static/3240b310bb0d5dfc241e4145b05070f0/a3432/graphqi.webp 350w,\n/static/3240b310bb0d5dfc241e4145b05070f0/426ac/graphqi.webp 700w,\n/static/3240b310bb0d5dfc241e4145b05070f0/c139f/graphqi.webp 1050w,\n/static/3240b310bb0d5dfc241e4145b05070f0/7f403/graphqi.webp 1400w,\n/static/3240b310bb0d5dfc241e4145b05070f0/33c6a/graphqi.webp 2624w\"\n          sizes=\"(max-width: 700px) 100vw, 700px\"\n          type=\"image/webp\"\n        />\n        <source\n          srcset=\"/static/3240b310bb0d5dfc241e4145b05070f0/4edbd/graphqi.png 175w,\n/static/3240b310bb0d5dfc241e4145b05070f0/13ae7/graphqi.png 350w,\n/static/3240b310bb0d5dfc241e4145b05070f0/8c557/graphqi.png 700w,\n/static/3240b310bb0d5dfc241e4145b05070f0/e996b/graphqi.png 1050w,\n/static/3240b310bb0d5dfc241e4145b05070f0/2cefc/graphqi.png 1400w,\n/static/3240b310bb0d5dfc241e4145b05070f0/89587/graphqi.png 2624w\"\n          sizes=\"(max-width: 700px) 100vw, 700px\"\n          type=\"image/png\"\n        />\n        <img\n          class=\"gatsby-resp-image-image\"\n          src=\"/static/3240b310bb0d5dfc241e4145b05070f0/8c557/graphqi.png\"\n          alt=\"graphiQL\"\n          title=\"graphiQL\"\n          loading=\"lazy\"\n          style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        />\n      </picture>\n  </a>\n    </span></p>\n<p>graphql을 한 번도 사용해 본 적이 없어서 처음에 많이 낯설었는데, 다른 쿼리를 보면서 따라하니까 금방 적응되었습니다. 그리고 개발 할 때 <code class=\"language-text\">localhost:8000/__graphql</code>로 접근하면 graphiQL로 더 쉽게 쿼리를 만들 수 있습니다.</p>\n<p>블로그 제작 툴을 고민하고 있다면, Gatsby 추천드립니다. 👍🏻</p>","frontmatter":{"date":"2020-03-24","path":"/posts/gatsby-blog/","title":"Gatsby로 블로그 만들기","category":"Programming"}}},"pageContext":{}}}