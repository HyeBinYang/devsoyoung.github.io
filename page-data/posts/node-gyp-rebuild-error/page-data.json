{"componentChunkName":"component---src-templates-post-template-js","path":"/posts/node-gyp-rebuild-error/","result":{"data":{"markdownRemark":{"html":"<p>얼마 전, 새로운 회사에서 인턴을 시작하게 되었습니다. 설치, 설정 과정에서 워낙 오류가 자주 발생하는 불운한 편이라 개발환경 구축을 두려워합니다. <em>왜 맨날 나만 오류나고..</em></p>\n<h2>Problem</h2>\n<p><code class=\"language-text\">npm install</code>로 필요한 라이브러리를 설치할 때 <code class=\"language-text\">scrypt</code>의 설치 과정에서 오류가 발생했습니다. <code class=\"language-text\">node-gyp rebuild</code> 명령어를 실행했을 때 두 번의 오류가 발생했습니다 :(</p>\n<p>아래에 두 가지 에러의 종류와 각각의 해결 과정을 정리했습니다. 같은 에러로 문제를 겪는 분들께 도움이 되었으면 좋겠습니다. Mac OS 기준입니다.</p>\n<h3>📍 Solution Summary</h3>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">1. Python 버전 문제 : 2.7 버전으로 다운그레이드\n2. No Xcode or CLT version detected : XCode 설치</code></pre></div>\n<h2>첫 번째 오류 : Python version</h2>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">node-gyp rebuild\n\ngyp ERR! configure error\ngyp ERR! stack Error: Command failed: /Users/cutelee/anaconda3/bin/python -c import sys; print “%s.%s.%s” % sys.version_info[:3];\ngyp ERR! stack   File “&lt;string&gt;“, line 1\ngyp ERR! stack     import sys; print “%s.%s.%s” % sys.version_info[:3];\ngyp ERR! stack                                ^\ngyp ERR! stack SyntaxError: invalid syntax\ngyp ERR! stack\ngyp ERR! stack     at ChildProcess.exithandler (child_process.js:281:12)\ngyp ERR! stack     at emitTwo (events.js:126:13)\ngyp ERR! stack     at ChildProcess.emit (events.js:214:7)\ngyp ERR! stack     at maybeClose (internal/child_process.js:915:16)\ngyp ERR! stack     at Socket.stream.socket.on (internal/child_process.js:336:11)\ngyp ERR! stack     at emitOne (events.js:116:13)\ngyp ERR! stack     at Socket.emit (events.js:211:7)\ngyp ERR! stack     at Pipe._handle.close [as _onclose] (net.js:561:12)</code></pre></div>\n<p>에러 메세지를 통해 python 관련 문제임을 추측했습니다. python 2.7 버전을 사용하라는 의견이 있어 해당 버전으로 변경 후 다시 설치를 시도했습니다. 이전과 다른 오류메세지를 보고 해당 문제를 해결했음을 알 수 있습니다.</p>\n<p><a href=\"https://github.com/nodejs/node-gyp#on-macos\">node-gyp 레파지토리</a>를 보니 3.x버전은 추천하지 않는다고 적혀있었습니다.</p>\n<blockquote>\n<p><strong>[2019-10-16]</strong> 다시 확인해보니 해당 부분이 수정되었습니다. Python 버전 문제는 해결되었나 봅니다 :)</p>\n</blockquote>\n<h2>두 번째 오류 : command-line tool</h2>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">node-gyp rebuild\n\n(...)\n\nNo Xcode or CLT version detected!</code></pre></div>\n<p>Xcode나 CLT가 감지되지 않았다는 새로운 에러가 발생했습니다. 구글링 하면서 찾은 <a href=\"https://github.com/nodejs/node-gyp/issues/773\">글</a>에 이미 이 내용과 관련된 글을 읽어서 <a href=\"http://osxdaily.com/2014/02/12/install-command-line-tools-mac-os-x/\">Xcode를 설치</a>하여 금방 오류를 해결할 수 있었습니다.</p>\n<blockquote>\n<p><strong>[2019-10-21]</strong> 최근 맥에서 카탈리나로 업데이트를 하니 설치했던 xcode가 사라졌는지 다시 오류가 떴습니다. 멀쩡하던 프로젝트가 맥 업데이트 이후 실행이 안된다면 xcode 설치 여부를 먼저 확인하는 것을 추천드립니다 :)</p>\n</blockquote>\n<h3>xcode 설치 명령어</h3>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ xcode-select --install</code></pre></div>\n<p>이미 설치되어 있는데 말을 안들으면 삭제 후 재설치 해보시는 것을 추천드립니다. <a href=\"https://github.com/HomoEfficio/dev-tips/blob/master/%EB%A7%A5%EC%97%90%EC%84%9C%20Xcode%20%EC%82%AD%EC%A0%9C%20%EB%B0%8F%20%EA%B0%9C%EB%B0%9C%20%ED%99%98%EA%B2%BD%20%EB%B3%B5%EC%9B%90.md\">(참고링크)</a></p>","frontmatter":{"date":"2019-07-04","path":"/posts/node-gyp-rebuild-error/","title":"node-gyp rebuild 오류 해결과정","category":"Error"}}},"pageContext":{}}}